<!DOCTYPE html>
<html>
<head>
<script type="application/javascript" src="jquery-1.5.min.js"></script>
<script type="application/javascript"src="mondrian.js"></script>
<script type="application/javascript">
    $(function() {
        var moncanvas = document.getElementById('test_canvas');
        draw_mondrian(moncanvas, 1.0);
        $('#budget').change(
            function() {
                $('#budget_text')[0].value = $('#budget')[0].value;
                draw_mondrian(moncanvas, $('#budget')[0].value)
            });
        $('#budget_text').change(
            function() {
                var budg = parseFloat($('#budget_text')[0].value);
                if(isNaN(budg)) {
                    $('#budget_text')[0].value = $('#budget')[0].value;
                } else {
                    $('#budget')[0].value = budg;
                    draw_mondrian(moncanvas, $('#budget')[0].value);
                }
        });
        $('#redraw_button').click(
            function() {
                draw_mondrian(moncanvas, $('#budget')[0].value)
            });
    });
</script>
<style>
canvas#test_canvas {
    border: 1px solid black;
}
</style>
</head>

<body>
<div id = "mondrian_canvas">
    <canvas id="test_canvas" width="300" height="300"></canvas>
</div>
<div id = "controls">
    <form id = "control_form">
    <label>Budget</label>
    <input id="budget" type="range" min="0.1" max="10" value="1" step="0.1">
    <input id="budget_text" type="text" value="1">
    </form>
    <button id="redraw_button">Redraw</a>
</div>
<p id = "debug"></p>
</body>

</html>